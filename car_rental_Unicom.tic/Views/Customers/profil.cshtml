@model car_rental_Unicom.tic.Vew_modal.Customers_vew_modal

@{
    ViewData["Title"] = "Customer Profile";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<div class="container mt-5">
    <h2 class="mb-4 text-center">Customer Profile</h2>

    <div class="card shadow">
        <div class="card-body">
            <h5 class="card-title text-primary">Profile Details</h5>
            <div id="profileDetails">
                <p><strong>Name:</strong> <span id="name">@Model.Name</span></p>
                <p><strong>Contact No:</strong> <span id="contactNo">@Model.contactNo</span></p>
                <p><strong>Age:</strong> <span id="age">@Model.Age</span></p>
                <p><strong>Gender:</strong> <span id="gender">@Model.Gender</span></p>
                <p><strong>Email:</strong> <span id="email">@Model.Email</span></p>
                <p><strong>User Name:</strong> <span id="userName">@Model.UserName</span></p>
            </div>

            <div class="d-flex gap-3 mt-4">
                <!-- Edit Button -->
                <button id="editButton" class="btn btn-primary">Edit</button>

                <!-- Delete Button -->
                <button id="deleteButton" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        // Handle Edit Button Click
        $('#editButton').on('click', function () {
            const customerId = '@Model.Id';
            window.location.href = `/Customers/Edit_profil/${customerId}`;
        });

        // Handle Delete Button Click
        $('#deleteButton').on('click', function () {
            const customerId = '@Model.Id';
            if (confirm('Are you sure you want to delete this profile?')) {
                $.ajax({
                    url: `/Customers/Delete_profil/${customerId}`,
                    type: 'POST',
                    success: function () {
                        alert('Profile deleted successfully.');
                        window.location.href = '/Login/Login';
                    },
                    error: function () {
                        alert('An error occurred while deleting the profile.');
                    }
                });
            }
        });
    });
</script>