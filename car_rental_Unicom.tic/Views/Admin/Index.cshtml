@model List<car_rental_Unicom.tic.Vew_modal.admin_view_modal>
@{
    ViewData["Title"] = "Admin List";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

<h2>Admin List</h2>

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>Name</th>
            <th>Contact No</th>
            <th>Age</th>
            <th>Gender</th>
            <th>Email</th>
            <th>Role</th>
            <th>UserName</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    @foreach (var admin in Model)
    {
        <tr>
            <td>@admin.Name</td>
            <td>@admin.ContactNo</td>
            <td>@admin.Age</td>
            <td>@admin.Gender</td>
            <td>@admin.Email</td>
            <td>@admin.Role</td>
            <td>@admin.UserName</td>
            <td>
                <!-- திருத்த (Edit) பொத்தான் - நிர்வாகியை திருத்த பயன்படும் -->
                <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#editModal-@admin.Id">Edit</button>
                <!-- கடவுச்சொல்லை மாற்ற (Change Password) பொத்தான் -->
                <button class="btn btn-warning btn-sm" data-bs-toggle="modal" data-bs-target="#changePwdModal-@admin.Id">Change Password</button>
            </td>
        </tr>

        <!-- திருத்த Modal Form - நிர்வாகி விவரங்களை மாற்ற பயன்படும் -->
        <div class="modal fade" id="editModal-@admin.Id" tabindex="-1" aria-labelledby="editModalLabel-@admin.Id" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <!-- திருத்த form ஆரம்பம் -->
                    <form asp-action="Edit" method="post">
                        <div class="modal-header">
                            <!-- Modal தலைப்பு -->
                            <h5 class="modal-title" id="editModalLabel-@admin.Id">Edit Admin</h5>
                            <!-- மூடு (Close) பொத்தான் -->
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <input type="hidden" name="Id" value="@admin.Id" />
                            <!-- பெயர் (Name) -->
                            <div class="mb-3">
                                <!-- பெயர் label -->
                                <label>Name <!-- பெயர் --></label>
                                <input type="text" name="Name" class="form-control" value="@admin.Name" required />
                            </div>
                            <!-- தொடர்பு எண் (Contact No) -->
                            <div class="mb-3">
                                <label>Contact No <!-- தொடர்பு எண் --></label>
                                <input type="text" name="ContactNo" class="form-control" value="@admin.ContactNo" required />
                            </div>
                            <!-- வயது (Age) -->
                            <div class="mb-3">
                                <label>Age <!-- வயது --></label>
                                <input type="number" name="Age" class="form-control" value="@admin.Age" required />
                            </div>
                            <!-- பாலினம் (Gender) -->
                            <div class="mb-3">
                                <label>Gender <!-- பாலினம் --></label>
                                <input type="text" name="Gender" class="form-control" value="@admin.Gender" required />
                            </div>
                            <!-- மின்னஞ்சல் (Email) -->
                            <div class="mb-3">
                                <label>Email <!-- மின்னஞ்சல் --></label>
                                <input type="email" name="Email" class="form-control" value="@admin.Email" required />
                            </div>
                        </div>
                        <div class="modal-footer">
                            <!-- சேமி (Save) பொத்தான் -->
                            <button type="submit" class="btn btn-success">Save</button>
                            <!-- ரத்து (Cancel) பொத்தான் -->
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        </div>
                    </form>
                    <!-- திருத்த form முடிவு -->
                </div>
            </div>
        </div>

        <!-- கடவுச்சொல்லை மாற்ற Modal Form -->
        <div class="modal fade" id="changePwdModal-@admin.Id" tabindex="-1" aria-labelledby="changePwdModalLabel-@admin.Id" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <!-- கடவுச்சொல்லை மாற்ற form ஆரம்பம் -->
                    <form asp-action="ChangePassword" method="post">
                        <div class="modal-header">
                            <!-- Modal தலைப்பு -->
                            <h5 class="modal-title" id="changePwdModalLabel-@admin.Id">Change Password</h5>
                            <!-- மூடு (Close) பொத்தான் -->
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <input type="hidden" name="Id" value="@admin.Id" />
                            <!-- Username (பயனர் பெயர்) -->
                            <div class="mb-3">
                                <label>User Name <!-- பயனர் பெயர் --></label>
                                <input type="text" name="UserName" class="form-control" value="@admin.UserName" required />
                            </div>
                            <!-- தற்போது கடவுச்சொல் (Current Password) -->
                            <div class="mb-3">
                                <label>Current Password <!-- தற்போது கடவுச்சொல் --></label>
                                <input type="password" name="CurrentPassword" class="form-control" />
                            </div>
                            <!-- புதிய கடவுச்சொல் (New Password) -->
                            <div class="mb-3">
                                <label>New Password <!-- புதிய கடவுச்சொல் --></label>
                                <input type="password" name="NewPassword" class="form-control" required />
                            </div>
                            <!-- உறுதிப்படுத்தும் கடவுச்சொல் (Confirm Password) -->
                            <div class="mb-3">
                                <label>Confirm Password <!-- உறுதிப்படுத்தும் கடவுச்சொல் --></label>
                                <input type="password" name="ConfirmPassword" class="form-control" required />
                            </div>
                        </div>
                        <div class="modal-footer">
                            <!-- மாற்று (Change) பொத்தான் -->
                            <button type="submit" class="btn btn-success">Change</button>
                            <!-- ரத்து (Cancel) பொத்தான் -->
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        </div>
                    </form>
                    <!-- கடவுச்சொல்லை மாற்ற form முடிவு -->
                </div>
            </div>
        </div>
    }
    </tbody>
</table>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>        